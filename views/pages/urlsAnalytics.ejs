<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= title %></title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="container">
    <%- include('../partials/header') %>

    <main>
      <h1>All URLs Analytics</h1>

      <% if (urls && urls.length > 0) { %>
      <div class="cards-grid">
        <% urls.forEach(url => { %>
        <div class="url-card">
          <div class="card-header">
            <a href="<%= url.shortUrl %>" target="_blank" class="short-link">
              <%= url.shortUrl %>
            </a>
            <span class="status <%= url.isActive ? 'active' : 'inActive' %>">
              <%= url.isActive ? "Active" : "InActive" %>
            </span>
          </div>

          <p class="original-url"><%= url.originalUrl %></p>

          <div class="card-stats">
            <div>
              <strong><%= url.totalClicks %></strong>
              <span>Clicks</span>
            </div>
            <div>
              <strong><%= url.createdAt.toLocaleDateString() %></strong>
              <span>Created</span>
            </div>
            <div>
              <strong><%= url.expiresAt.toLocaleDateString() %></strong>
              <span>Expires</span>
            </div>
          </div>

          <div class="card-footer">
            <a href="/analytics/<%= url.shortCode %>" class="details-link">
              View Details â†’
            </a>
          </div>
        </div>
        <% }) %>
      </div>
      <% } else { %>
      <p>No URLs found.</p>
      <% } %>
    </main>

    <%- include('../partials/footer') %>
  </body>
</html>
